---
import { getCollection } from "astro:content";

import { getLanguageFromURL } from "~/i18n/utils";
import ProjectItem from "./ProjectItem.astro";

const toys = await getCollection('toys');

const lang = getLanguageFromURL(Astro.url.pathname);
---

<div class="space-y-4">
	{
		toys
			.filter(toy => toy.slug.startsWith(lang))
			.map(({ data }) => ( <ProjectItem data={data} /> ))
	}
</div>